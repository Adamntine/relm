{
	"info": {
		"_postman_id": "b921f2ac-e1e4-4619-baa6-a2a894b763b4",
		"name": "Relm Server",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "List My Permissions",
					"request": {
						"method": "POST",
						"header": [
							{
								"description": "Signed Player ID",
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"description": "Player ID",
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"relms\": [\"default\", \"test\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/auth/permissions",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"auth",
								"permissions"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Authenticate (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"description": "Signed Player ID",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"description": "Player ID",
								"type": "text"
							},
							{
								"key": "X-Relm-X",
								"value": "{{relmX}}",
								"description": "X Component of Public Key",
								"type": "text"
							},
							{
								"key": "X-Relm-Y",
								"value": "{{relmY}}",
								"description": "Y Component of Public Key",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/admin/authenticate?t=setup",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"admin",
								"authenticate"
							],
							"query": [
								{
									"key": "t",
									"value": "setup",
									"description": "Token"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Make Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"description": "Signed Player ID",
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"description": "Player ID",
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							},
							{
								"description": "X Component of Public Key",
								"key": "X-Relm-X",
								"type": "text",
								"value": "{{relmX}}"
							},
							{
								"description": "Y Component of Public Key",
								"key": "X-Relm-Y",
								"type": "text",
								"value": "{{relmY}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"playerId\": \"0dce4601-0a92-4c52-ad4a-f355ede669c6\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/mkadmin",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"mkadmin"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Asset",
			"item": [
				{
					"name": "Upload Asset",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "files[]",
									"type": "file",
									"src": "/home/duane/tmp/skyboxes/skybox-bluesky.webp"
								}
							]
						},
						"url": {
							"raw": "{{serverUrl}}/asset/upload",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"asset",
								"upload"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Asset to Library",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n  \"name\": \"Stout Green Tree\",\n  \"description\": \"A wide green oak tree\",\n  \"tags\": [\"furniture\"],\n  \"thumbnail\": \"2a2545dd9143ebffcef254f010c9a5c3-2502.webp\",\n  \"ecsProperties\": {\n    \"entities\": [\n      {\n        \"id\": \"CicA59maCFvhPHm2rvCIq\",\n        \"name\": \"Thing\",\n        \"parent\": null,\n        \"children\": [],\n        \"meta\": {},\n        \"Transform\": {\n          \"position\": [ -0.10751120293617794, 5.69, -9.739551020349131 ],\n          \"rotation\": [ 0, 0.19376653496242194, 0, 0.9810476695495772 ],\n          \"scale\": [ 12, 12, 12 ]\n        },\n        \"Model\": {\n          \"asset\": {\n            \"name\": \"\",\n            \"filename\": \"\",\n            \"url\": \"c81ffa043ec48dbfd92505126bdbb9fa-283272.glb\"\n          }\n        },\n        \"RigidBody\": {\n          \"kind\": \"STATIC\",\n          \"linearVelocity\": [ 0, 0, 0 ],\n          \"angularVelocity\": [ 0, 0, 0 ],\n          \"mass\": 1,\n          \"angularDamping\": 0,\n          \"linearDamping\": 0\n        },\n        \"Collider\": {\n          \"shape\": \"CYLINDER\",\n          \"boxSize\": [ 1, 1, 1 ],\n          \"sphereRadius\": 0.5,\n          \"cylinderRadius\": 0.12999,\n          \"cylinderHeight\": 1,\n          \"capsuleRadius\": 0.5,\n          \"capsuleHeight\": 1,\n          \"offset\": [ 0.04, 0, 0.0399 ],\n          \"density\": 1,\n          \"interaction\": 65543\n        }\n      }\n    ]\n  }\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/asset/library/create",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"asset",
								"library",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Asset from Library",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n    \"assetId\": \"42512d9b-44f1-406e-ad5b-9f8c2e942020\"\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/asset/library/delete",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"asset",
								"library",
								"delete"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query Asset Library",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"keywords\": [\"tree\"],\n    \"tags\": [\"nature\"],\n    \"page\": 0,\n    \"per_page\": 100\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/asset/library/query",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"asset",
								"library",
								"query"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Asset (no CDN)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serverUrl}}/asset/052ae126b79707f97c83b447805f32ea.jpg",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"asset",
								"052ae126b79707f97c83b447805f32ea.jpg"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Asset (from CDN)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://assets.ourrelm.com/052ae126b79707f97c83b447805f32ea.jpg",
							"protocol": "https",
							"host": [
								"assets",
								"ourrelm",
								"com"
							],
							"path": [
								"052ae126b79707f97c83b447805f32ea.jpg"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Invitations",
			"item": [
				{
					"name": "Make Invitation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"maxUses\": 3,\n    \"permits\": [\"access\", \"edit\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/invite/default/make",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"invite",
								"default",
								"make"
							]
						}
					},
					"response": []
				},
				{
					"name": "Revoke Invitation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"welcome1\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/invite/default/delete",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"invite",
								"default",
								"delete"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Invitations by Relm",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/invite/default/query",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"invite",
								"default",
								"query"
							],
							"query": [
								{
									"key": "token",
									"value": "welcome1",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Relm",
			"item": [
				{
					"name": "Create Relm",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"isPublic\": true,\n    \"password\": \"welcome\",\n    \"seedRelmName\": \"default\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/relm/new-relm/create",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"new-relm",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Relm",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"isPublic\": true,\n    \"password\": \"welcome\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/relm/default/delete",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"delete"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Relm Permissions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/relm/default/permits",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"permits"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Relm Content",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/relm/default/content",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"content"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Relm Metadata",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/relm/default/meta",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"meta"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set Relm Metadata",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-Relm-S",
								"value": "{{relmSig}}",
								"type": "text"
							},
							{
								"key": "X-Relm-Id",
								"value": "{{relmId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"isPublic\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/relm/default/meta",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"meta"
							]
						}
					},
					"response": []
				},
				{
					"name": "Truncate Relm History",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/relm/default/truncate",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"truncate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Twilio Token",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"url": {
							"raw": "{{serverUrl}}/relm/default/twilio",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relm",
								"default",
								"twilio"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Relms",
			"item": [
				{
					"name": "List Public Relms",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{serverUrl}}/relms/public",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relms",
								"public"
							]
						}
					},
					"response": []
				},
				{
					"name": "List All Relms (Admin)",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"description": "Signed Player ID",
								"key": "X-Relm-S",
								"type": "text",
								"value": "{{relmSig}}"
							},
							{
								"description": "Player ID",
								"key": "X-Relm-Id",
								"type": "text",
								"value": "{{relmId}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{serverUrl}}/relms/all",
							"host": [
								"{{serverUrl}}"
							],
							"path": [
								"relms",
								"all"
							],
							"query": [
								{
									"key": "excludeEmpty",
									"value": "false",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Screenshot",
			"item": [
				{
					"name": "Get Website Screenshot",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		}
	]
}